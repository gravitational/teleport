{"dashboard": {"style": "dark", "rows": [{"repeat": null, "titleSize": "h6", "repeatIteration": null, "title": "Dashboard Row", "height": 247, "repeatRowId": null, "panels": [{"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 1, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [], "measurement": "teleport_go_goroutines", "groupBy": [{"type": "tag", "params": ["host"]}], "select": [[{"type": "field", "params": ["gauge"]}]], "orderByTime": "ASC", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Goroutines (Max Per Interval)", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": "Goroutine Count"}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": "Time"}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 2, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [], "measurement": "teleport_process_open_fds", "groupBy": [{"type": "tag", "params": ["host"]}], "select": [[{"type": "field", "params": ["gauge"]}]], "orderByTime": "ASC", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Open File Descriptors (Max)", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": "File Descriptors (Max)"}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}], "showTitle": false, "collapse": false}, {"repeat": null, "titleSize": "h6", "repeatIteration": null, "title": "Dashboard Row", "height": 238, "repeatRowId": null, "panels": [{"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 3, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [], "measurement": "teleport_go_memstats_heap_inuse_bytes", "groupBy": [{"type": "tag", "params": ["host"]}], "select": [[{"type": "field", "params": ["gauge"]}]], "orderByTime": "ASC", "policy": "default", "refId": "B", "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Heap In Use Bytes", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": "Megabytes"}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 5, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "hide": false, "tags": [], "measurement": "teleport_process_cpu_seconds_total", "refId": "A", "select": [[{"type": "field", "params": ["counter"]}, {"type": "non_negative_derivative", "params": ["10s"]}, {"type": "math", "params": [" / 10"]}]], "orderByTime": "ASC", "policy": "default", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Teleport CPU Cores", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}], "showTitle": false, "collapse": false}, {"repeat": null, "titleSize": "h6", "repeatIteration": null, "title": "Dashboard Row", "height": 220, "repeatRowId": null, "panels": [{"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 6, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "hide": false, "rawQuery": false, "tags": [], "measurement": "teleport_server_interactive_sessions_total", "refId": "A", "select": [[{"type": "field", "params": ["gauge"]}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"\" FROM \"teleport_audit_slice_bytes\" WHERE $timeFilter", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Interactive Sessions", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 7, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "hide": false, "rawQuery": true, "tags": [], "measurement": "teleport_access_point_requests", "refId": "A", "select": [[{"type": "field", "params": ["counter"]}, {"type": "non_negative_derivative", "params": ["10s"]}, {"type": "math", "params": [" / 10"]}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT non_negative_derivative(max(\"counter\"), 1s)  FROM \"teleport_access_point_requests\"  WHERE $timeFilter  GROUP BY \"host\", time(1s)", "groupBy": [], "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Access Point Requests Per Second", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}], "showTitle": false, "collapse": false}, {"repeat": null, "titleSize": "h6", "repeatIteration": null, "title": "Dashboard Row", "height": 253, "repeatRowId": null, "panels": [{"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 4, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "hide": false, "rawQuery": true, "tags": [], "measurement": "teleport_audit_requests_total", "refId": "A", "select": [[{"type": "field", "params": ["counter"]}, {"type": "non_negative_derivative", "params": ["1s"]}, {"type": "math", "params": [" / 10"]}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT non_negative_derivative(max(\"counter\"), 1s)  FROM \"teleport_audit_requests_total\" WHERE $timeFilter GROUP BY \"host\", time(1s)", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Audit Log Requests Per Second", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 8, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [], "measurement": "teleport_audit_server_open_files", "groupBy": [{"type": "tag", "params": ["host"]}], "select": [[{"type": "field", "params": ["gauge"]}]], "orderByTime": "ASC", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "span": 6, "title": "Audit Server Open Files", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}], "showTitle": false, "collapse": false}, {"repeat": null, "titleSize": "h6", "repeatIteration": null, "title": "Dashboard Row", "height": 310, "repeatRowId": null, "panels": [{"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 9, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "rawQuery": true, "tags": [], "orderByTime": "ASC", "refId": "A", "alias": "", "select": [[{"type": "field", "params": ["5000"]}, {"type": "math", "params": [" / 100"]}], [{"type": "field", "params": ["973097.5341796875"]}]], "measurement": "teleport_access_point_latency_microseconds", "policy": "default", "query": "SELECT \"5000\"  / \"973097.5341796875\" FROM \"teleport_access_point_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "C", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"16875\"  / \"973097.5341796875\" FROM \"teleport_access_point_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "D", "alias": "56ms", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"56953.125\"  / \"973097.5341796875\" FROM \"teleport_access_point_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "E", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"85429.6875\"  / \"973097.5341796875\" FROM \"teleport_access_point_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}], "fill": 1, "span": 4, "title": "Access Point Latency Histogram", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 10, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "rawQuery": true, "tags": [], "orderByTime": "ASC", "refId": "A", "alias": "", "select": [[{"type": "field", "params": ["5000"]}, {"type": "math", "params": [" / 100"]}], [{"type": "field", "params": ["973097.5341796875"]}]], "measurement": "teleport_access_point_latency_microseconds", "policy": "default", "query": "SELECT \"5000\"  / \"973097.5341796875\" FROM \"teleport_access_point_cache_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "C", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"16875\"  / \"973097.5341796875\" FROM \"teleport_access_point_cache_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "D", "alias": "56ms", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"56953.125\"  / \"973097.5341796875\" FROM \"teleport_access_point_cache_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "E", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"85429.6875\"  / \"973097.5341796875\" FROM \"teleport_access_point_cache_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}], "fill": 1, "span": 4, "title": "Access Point Cache Latency Histogram", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "renderer": "flot", "id": 11, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "rawQuery": true, "tags": [], "orderByTime": "ASC", "refId": "A", "alias": "", "select": [[{"type": "field", "params": ["5000"]}, {"type": "math", "params": [" / 100"]}], [{"type": "field", "params": ["973097.5341796875"]}]], "measurement": "teleport_access_point_latency_microseconds", "policy": "default", "query": "SELECT \"5000\"  / \"973097.5341796875\" FROM \"teleport_audit_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "tag", "params": ["host"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "C", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"16875\"  / \"973097.5341796875\" FROM \"teleport_audit_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "D", "alias": "56ms", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"56953.125\"  / \"973097.5341796875\" FROM \"teleport_audit_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "rawQuery": true, "tags": [], "refId": "E", "alias": "", "select": [[{"type": "field", "params": ["value"]}, {"type": "mean", "params": []}]], "orderByTime": "ASC", "policy": "default", "query": "SELECT \"85429.6875\"  / \"973097.5341796875\" FROM \"teleport_audit_latency_microseconds\" WHERE $timeFilter GROUP BY \"host\"", "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "resultFormat": "time_series"}], "fill": 1, "span": 4, "title": "Audit Log API Latency Histogram", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"total": false, "show": true, "max": false, "min": false, "current": false, "values": false, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"buckets": null, "show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "InfluxDB", "pointradius": 5}], "showTitle": false, "collapse": false}], "templating": {"list": []}, "links": [], "gnetId": null, "graphTooltip": 0, "hideControls": false, "tags": [], "editable": true, "refresh": "5s", "id": null, "__inputs": [{"description": "", "pluginName": "InfluxDB", "label": "InfluxDB", "pluginId": "influxdb", "type": "datasource", "name": "DS_INFLUXDB"}], "timepicker": {"time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"], "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]}, "title": "Teleport Health Stats", "version": 5, "time": {"to": "now", "from": "now-15m"}, "__requires": [{"version": "4.6.3", "type": "grafana", "id": "grafana", "name": "Grafana"}, {"version": "", "type": "panel", "id": "graph", "name": "Graph"}, {"version": "1.0.0", "type": "datasource", "id": "influxdb", "name": "InfluxDB"}], "timezone": "browser", "schemaVersion": 14, "annotations": {"list": [{"enable": true, "hide": true, "name": "Annotations & Alerts", "builtIn": 1, "datasource": "-- Grafana --", "type": "dashboard", "iconColor": "rgba(0, 211, 255, 1)"}]}}}