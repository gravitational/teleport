persistence:
  enabled: true
  storageClass: "io2"
  accessModes:
    - ReadWriteOnce
  size: 256Gi

resources:
  limits:
    cpu: 6
    memory: 10Gi
  requests:
    cpu: 3
    memory: 5Gi

replicaCount: 5

args:
  - /opt/bitnami/scripts/etcd/run.sh
  - --quota-backend-bytes
  - "137438953472"

# Switch to legacy images
image:
  repository: bitnamilegacy/etcd

# Each item will be written every ~3min, @600k items -> 3.333k writes/s

# 600k items * 2kib * 5 => 6gig
autoCompactionMode: revision
autoCompactionRetention: "5"

defrag:
  enabled: true
  cronjob:
    schedule: "*/15 * * * *"