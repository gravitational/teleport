---
title: Grafana
description: Configure a Grafana MCP server for access via Teleport
tags:
- how-to
- mcp
- zero-trust
---

This guide demonstrates how to run a Grafana MCP server and connect it via
Teleport.

## How it works

(!docs/pages/includes/mcp-access/integration-how-it-works-service-token.mdx serviceName="Grafana" token="a service account token"!)

## Prerequisites

(!docs/pages/includes/edition-prereqs-tabs.mdx edition="Teleport (v18.3.0 or higher)" clients="\`tsh\` client"!)
- Access to your Notion workspace and sufficient privileges to manage integrations.
- A host to run the MCP server that is reachable by the Teleport Application Service.
- Running [Teleport Application Service](../getting-started.mdx).
- A Teleport user with sufficient permissions (e.g. role `mcp-user`) to access
  MCP servers.

## Step 1/3. Create a service account in Grafana

Navigate to Administrators > Users and Accounts > Service Accounts, and then
click **Create Service Account**:

![Grafana Service Account](../../../../img/mcp-access/grafana-create-sa.png)

Assign the **Viewer** role to keep the service account limited to read-only
access.

After the service account is created, click **Add service account token** to
generate a new token. Copy the token for use in the next step.

## Step 2/3 Run the Grafana MCP server

The [Grafana MCP Server](https://github.com/grafana/mcp-grafana) can be run
either as a compiled binary or via the official Docker image:

<Tabs>
<TabItem label="mcp-grafana binary">
To start the MCP server in streamable-HTTP mode:
```code
$ export GRAFANA_URL=<Var name="GRAFANA_URL" initial_value="https://your-grafana-instance-url" />
$ export GRAFANA_SERVICE_ACCOUNT_TOKEN=<Var name="SERVICE_ACCOUNT_TOKEN" initial_value="your_service_account_token"/>
$ ./mcp-grafana --transport streamable-http --address <Var name="MCP_HOST" initial_value="localhost" />:8000
```
</TabItem>
<TabItem label="docker">
To start the MCP server in streamable-HTTP mode:
```code
$ docker run -d -p 8000:8000 \
  -e GRAFANA_URL=<Var name="GRAFANA_URL" initial_value="https://your-grafana-instance-url" /> \
  -e GRAFANA_SERVICE_ACCOUNT_TOKEN=<Var name="SERVICE_ACCOUNT_TOKEN" initial_value="your_service_account_token"/> \
  mcp/grafana --transport streamable-http --address <Var name="MCP_HOST" initial_value="localhost" />:8000
```
</TabItem>
</Tabs>

The Grafana MCP Server now exposes a streamable-HTTP endpoint at `http://<Var name="MCP_HOST" initial="localhost" />:8000/mcp`.

## Step 3/3. Connect via Teleport

(!docs/pages/includes/mcp-access/integration-teleport-app.mdx service="grafana" port="8000"!)

(!docs/pages/includes/mcp-access/integration-limit-tools.mdx service="grafana" tool="^(get|query|list|search|find)_.*$"!)

(!docs/pages/includes/mcp-access/integration-tsh.mdx service="grafana" serviceName="Grafana" !)

![Grafana Claude](../../../../img/mcp-access/grafana-claude.png)

## Next Steps

- [Enroll a Streamable-HTTP MCP Server](../enrolling-mcp-servers/streamable-http.mdx).
- Learn more about [grafana-mcp-server](https://github.com/grafana/mcp-grafana).
- Configuration and CLI [reference](../../../reference/agent-services/mcp-access.mdx).
