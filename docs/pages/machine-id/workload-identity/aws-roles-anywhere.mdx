---
title: Configuring Workload ID and AWS Roles Anywhere
description: Configuring AWS to accept Workload ID certificates as authentication using AWS Roles Anywhere
---

Teleport's Workload Identity issues flexible short-lived identities in X.509
certificates. AWS Roles Anywhere allows you to use these certificates to
authenticate to AWS services.

This can be useful in cases where a machine needs to securely authenticate with
AWS services without the use of a long-lived credential. This is because the
machine can authenticate with Teleport without using any shared secrets by
using one of our delegated join methods.

This implementation differs from Teleport's Application Access for AWS feature
in a few ways:

- Requests to AWS are not proxied through Teleport, meaning reduced latency but
  also less visibility, as these requests will not be recorded in Teleport's
  audit log.
- Workload ID works with any AWS client, including the commandline tool but also
  their SDKs
- Teleport Application Access for AWS does not work with Machine ID and
  therefore cannot be used when a machine needs to authenticate with AWS.

Whilst this guide is primarily aimed at allowing a machine to access AWS,
the `tsh svid issue` command can be used in place of Machine ID to allow a human
user to authenticate with using AWS Roles Anywhere.

## Prerequisites

(!docs/pages/includes/edition-prereqs-tabs.mdx!)

- (!docs/pages/includes/tctl.mdx!)
- `tbot` must already be installed and configured on the host where the
workloads which need to access Teleport Workload Identity will run. For more
information, see the [deployment guides](../deployment.mdx).

## Step 1/5. Decide on a SPIFFE ID structure

## Step 2/5. Configure AWS Roles Anywhere

## Step 3/5. Configure Teleport RBAC to allow the issuance of Workload ID certificates

## Step 4/5. Issue Workload ID certificates

### For machines using `tbot`

### For humans using `tsh`

## Step 5/5. Configure the AWS CLI and SDKs to use Roles Anywhere to authenticate

Installing the right stuff....