---
title: teleport-update CLI reference
description: Comprehensive reference of subcommands, flags, and arguments for the teleport-update CLI tool.
---

`teleport-update` is a CLI tool that is used to update Teleport agents installed on Linux servers.

See [Teleport Agent Managed Updates](../upgrading/agent-managed-updates.mdx) for more details.

The primary commands for `teleport-update` are as follows:

| Command                          | Description                                                                            |
|----------------------------------|----------------------------------------------------------------------------------------|
| `teleport-update help`           | Output guidance for using commands with `teleport-update`.                             |
| `teleport-update version`        | Output the current version of the `teleport-update` binary.                            |
| `teleport-update enable`         | Install the version of Teleport advertised by the cluster and enable managed updates.  |
| `teleport-update pin`            | Install the version of Teleport advertised by the cluster and stay on that version.    |
| `teleport-update disable`        | Disable auto-updates without removing Teleport. Disables all requests.                 |
| `teleport-update unpin`          | Allow the installed version of Teleport to be updated, if managed updates are enabled. |                                                                              |
| `teleport-update update`         | Update Teleport to the version advertised by the cluster.                              |                                                                              |
| `teleport-update link-package`   | Restore the system-packaged (apt/yum) version of Teleport to /usr/local/bin.           |                                                                              |
| `teleport-update unlink-package` | Remove the system-packaged (apt/yum) version of Teleport from /usr/local/bin.          |                                                                              |
| `teleport-update status`         | Output the status of the installed version of Teleport.                                |                                                                              |
| `teleport-update uninstall`      | Remove both Teleport and the updater.                                                  |                                                                              |

## teleport-update enable

Enables agent auto-updates and performs an initial installation of the Teleport agent.
This command also creates a systemd timer that periodically runs the update subcommand.

If Teleport is already installed, `enable` will update to the cluster-advertised version
and ensure managed updates are enabled.

Most flags passed to `enable` are persisted for `update`.
To change these flags, run `enable` again with the new flags.

### Flags

| Flag                 | Description                                                                                                            |
|----------------------|------------------------------------------------------------------------------------------------------------------------|
| -d, --[no-]debug     | Verbose logging to stdout.                                                                                             |
| --data-dir           | Teleport data directory. Access to this directory should be limited.                                                   |
| --log-format         | Controls the format of output logs. Can be `json` or `text`. Defaults to `text`.                                       |
| -i, --install-suffix | Suffix for creating an agent installation outside of the default $PATH. Note: this changes the default data directory. |
| -p, --proxy          | Address of the Teleport Proxy.                                                                                         |
| -g, --group          | Update group for this agent installation.                                                                              |
| -b, --base-url       | Base URL used to override the Teleport download URL.                                                                   |
| -o, --[no-]overwrite | Allow existing installed Teleport binaries to be overwritten.                                                          |

### Examples

**Example using file permissions.**

The following command highlights how to set permissions with `tbot` through Linux groups, using the user and group
`jenkins:jenkins`.
If running `tbot` as the Linux user `root`, use the following invocation of
`tbot init` to initialize the short-lived certificate directory
`/opt/machine-id` with owner `jenkins:jenkins`.

```code
$ tbot init \
    --destination-dir=/opt/machine-id \
    --owner=jenkins:jenkins
```

**Example using POSIX ACLs.**

If running `tbot` as the Linux user `teleport`, use the following invocation of
`tbot init` to initialize the short-lived certificate directory
`/opt/machine-id` with owner `teleport:teleport` but allow `jenkins` to read
from `/opt/machine-id`.

```code
$ tbot init \
    --destination-dir=/opt/machine-id \
    --bot-user=teleport \
    --reader-user=jenkins
```

