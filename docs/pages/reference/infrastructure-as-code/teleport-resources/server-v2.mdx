---
title: Server V2 Reference
description: Provides a reference of fields within the Server V2 resource, which you can manage with tctl.
sidebar_label: Server V2
---
{/* vale 3rd-party-products.former-names = NO */}
{/* vale messaging.capitalization = NO */}
{/* Automatically generated from: types/types.pb.go */}
{/* DO NOT EDIT */}

**Kind**: `node`<br/>
**Version**: `v2`

Represents a Node, App, Database, Proxy or Auth Service instance in a Teleport cluster.

## Top-level fields

Example:

```yaml
kind: "string"
sub_kind: "string"
version: "string"
metadata: # [...]
spec: # [...]
scope: "string"
```
|Field Name|Description|Type|
|---|---|---|
|kind|A resource kind|string|
|metadata|Resource metadata|[Metadata](#metadata)|
|scope|The advertized scope of the server which can not change once assigned.|string|
|spec|A server spec|[Server Spec V2](#server-spec-v2)|
|sub_kind|An optional resource sub kind, used in some resources|string|
|version|Version|string|

## AWS Info

Contains attributes to match to an EC2 instance.


Example:

```yaml
account_id: "string"
instance_id: "string"
region: "string"
vpc_id: "string"
integration: "string"
subnet_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|account_id|An AWS account ID.|string|
|instance_id|An EC2 instance ID.|string|
|integration|The integration name that added this Node. When connecting to it, it will use this integration to issue AWS API calls in order to set up the connection. This includes sending an SSH Key and then opening a tunnel (EC2 Instance Connect Endpoint) so Teleport can connect to it.|string|
|region|The AWS EC2 Instance Region.|string|
|subnet_id|The Subnet ID in use by the instance.|string|
|vpc_id|The AWS VPC ID where the Instance is running.|string|

## Cloud Metadata

Contains info about the cloud instance a server is running on, if any.


Example:

```yaml
aws: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|aws|Info contains attributes to match to an EC2 instance.|[AWS Info](#aws-info)|

## Command Label V2

A label that has a value as a result of the output generated by running command, e.g. hostname


Example:

```yaml
period: # [...]
command: 
  - "string"
  - "string"
  - "string"
result: "string"
```

|Field Name|Description|Type|
|---|---|---|
|command|A command to run|[]string|
|period|A time between command runs|[Duration](#duration)|
|result|Captures standard output|string|

## Component Feature ID

An identifier for a specific feature supported by a Teleport component.


## Component Features

Represents a set of features supported by a given Teleport component.


Example:

```yaml
features: 
  - # [...]
  - # [...]
  - # [...]
```

|Field Name|Description|Type|
|---|---|---|
|features|Features is a list of supported feature identifiers.|[][Component Feature ID](#component-feature-id)|

## Duration

A wrapper around duration to set up custom marshal/unmarshal


## GitHub Server Metadata

Contains info about GitHub proxies where each server represents a GitHub organization.


Example:

```yaml
organization: "string"
integration: "string"
```

|Field Name|Description|Type|
|---|---|---|
|integration|The integration that is associated with this Server.|string|
|organization|Specifies the name of the organization for the GitHub integration.|string|

## Metadata

Resource metadata


Example:

```yaml
name: "string"
description: "string"
labels: 
  "string": "string"
  "string": "string"
  "string": "string"
expires: # See description
revision: "string"
```

|Field Name|Description|Type|
|---|---|---|
|description|Object description|string|
|expires|A global expiry time header can be set on any resource in the system.||
|labels|A set of labels|map[string]string|
|name|An object name|string|
|revision|An opaque identifier which tracks the versions of a resource over time. Clients should ignore and not alter its value but must return the revision in any updates of a resource.|string|

## Rotation

A status of the rotation of the certificate authority


Example:

```yaml
state: "string"
phase: "string"
mode: "string"
current_id: "string"
started: # See description
grace_period: # [...]
last_rotated: # See description
schedule: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|current_id|The ID of the rotation operation to differentiate between rotation attempts.|string|
|grace_period|A period during which old and new CA are valid for checking purposes, but only new CA is issuing certificates.|[Duration](#duration)|
|last_rotated|Specifies the last time of the completed rotation.||
|mode|Sets manual or automatic rotation mode.|string|
|phase|The current rotation phase.|string|
|schedule|A rotation schedule - used in automatic mode to switch between phases.|[Rotation Schedule](#rotation-schedule)|
|started|Set to the time when rotation has been started in case if the state of the rotation is "in_progress".||
|state|Could be one of "init" or "in_progress".|string|

## Rotation Schedule

A rotation schedule setting time switches for different phases.


Example:

```yaml
update_clients: # See description
update_servers: # See description
standby: # See description
```

|Field Name|Description|Type|
|---|---|---|
|standby|Specifies time to switch to the "Standby" phase.||
|update_clients|Specifies time to switch to the "Update clients" phase||
|update_servers|Specifies time to switch to the "Update servers" phase.||

## Server Spec V2

A specification for V2 Server


Example:

```yaml
addr: "string"
hostname: "string"
cmd_labels: 
  "string": # [...]
  "string": # [...]
  "string": # [...]
rotation: # [...]
use_tunnel: true
version: "string"
peer_addr: "string"
proxy_ids: 
  - "string"
  - "string"
  - "string"
public_addrs: 
  - "string"
  - "string"
  - "string"
cloud_metadata: # [...]
github: # [...]
relay_group: "string"
relay_ids: 
  - "string"
  - "string"
  - "string"
component_features: # [...]
immutable_labels: 
  "string": "string"
  "string": "string"
  "string": "string"
```

|Field Name|Description|Type|
|---|---|---|
|addr|A host:port address where this server can be reached.|string|
|cloud_metadata|Contains info about the cloud instance the server is running on, if any.|[Cloud Metadata](#cloud-metadata)|
|cmd_labels|Server dynamic labels|map[string][Command Label V2](#command-label-v2)|
|component_features|Component_features represents features supported by this server|[Component Features](#component-features)|
|github|Contains info about GitHub proxies where each server represents a GitHub organization.|[GitHub Server Metadata](#github-server-metadata)|
|hostname|Server hostname|string|
|immutable_labels|The immutable labels assigned to the server when joining. The hash of these labels is expected to match the hash included in the server's certificate.|map[string]string|
|peer_addr|The address a proxy server is reachable at by its peer proxies.|string|
|proxy_ids|A list of proxy IDs this server is expected to be connected to.|[]string|
|public_addrs|A list of public addresses where this server can be reached.|[]string|
|relay_group|The name of the Relay group that the server is connected to|string|
|relay_ids|The list of Relay host IDs that the server is connected to|[]string|
|rotation|Specifies server rotation|[Rotation](#rotation)|
|use_tunnel|Indicates that connections to this server should occur over a reverse tunnel.|Boolean|
|version|TeleportVersion is the teleport version that the server is running on|string|

