
{/* Generated file. Do not edit.*/}
{/* Generate this file by navigating to examples/chart and running  make render-chart-ref*/}
## `enabled`

| Type | Default |
|------|---------|
| `bool` | `false` |

`enabled` Enables the Kube Updater and deploys it alongside the Teleport Agent or Tbot.
You can enable this when:

- using Teleport Cloud and your tenant is enrolled into automatic updates by default.
- using self-hosted Teleport and you maintain your own version server.

You must not enable this when:

- you are a self-hosted Teleport user and have not set up your Teleport cluster to
  support automatic updates.

## `proxyAddr`

| Type | Default |
|------|---------|
| `string` | `""` |

`proxyAddr` provides the public-facing Teleport Proxy Service endpoint
which should be used to join the cluster. This is the same URL used to access
the web UI of your Teleport cluster. The port used is usually either 3080 or 443.

Here are a few examples:

| Deployment method             | Example `proxy_service.public_addr` |
|-------------------------------|-------------------------------------|
| On-prem Teleport cluster      | `teleport.example.com:3080`         |
| Teleport Cloud cluster        | `example.teleport.sh:443`           |
| `teleport-cluster` Helm chart | `teleport.example.com:443`          |

## `versionServer`

| Type | Default |
|------|---------|
| `string` | `"https://{{ .Values.proxyAddr }}/v1/webapi/automaticupgrades/channel"` |

`versionServer` is the URL of the version server the updater
fetches the target version from. The complete version endpoint is built by
concatenating [`versionServer`](#versionserver) and [`releaseChannel`
](#releasechannel).
This field supports gotemplate.

Setting this field makes the updater fetch the version using the version server protocol.
Setting this field to a custom value disables the webapi update protocol to ensure backward compatibility.

## `releaseChannel`

| Type | Default |
|------|---------|
| `string` | `"stable/cloud"` |

`releaseChannel` is the release channel the updater
subscribes to.

The complete version endpoint is built by concatenating
[`versionServer`](#versionserver) and [`releaseChannel`](#releasechannel).
You must not change the default value if you are a Teleport Cloud user unless
instructed by Teleport support.

This value is used when the updater is fetching the version using the version server protocol.
It is also used as a failover when fetching the version using the webapi protocol if `group` is unset.

## `group`

| Type | Default |
|------|---------|
| `string` | `""` |

`group` is the update group used when fetching the version using the webapi protocol.
When unset, the group defaults to `default`.

## `image`

| Type | Default |
|------|---------|
| `string` | `"public.ecr.aws/gravitational/teleport-kube-agent-updater"` |

`image` sets the container image used for Teleport updater
pods run when `enabled` is true.

You can override this to use your own Teleport Kube Updater image rather
than a Teleport-published image.

## `appImage`

| Type | Default |
|------|---------|
| `string` | `""` |

`appImage` sets the container image used for updating pods monitored by this
chart. If it is not defined Kube Updater will receive it from the target pod for updating.

## `containerName`

| Type | Default |
|------|---------|
| `string` | `""` |

`containerName` sets the name of the main container in the Teleport Kube Updater pod.
This value is typically left empty and is required to be set during installation.

## `syncPeriod`

| Type | Default |
|------|---------|
| `string` | `"10h"` |

`syncPeriod` sets the period at which the updater checks for new versions.
The value is a duration string (e.g., "10h" for 10 hours, "30m" for 30 minutes).
This value is used to configure how often the updater polls for version updates.
The default value is "10h".

## `serviceAccount`

### `serviceAccount.name`

| Type | Default |
|------|---------|
| `string` | `""` |

`serviceAccount.name` is the updater Kubernetes Service
Account name. When unset, it defaults to `<kube updater sa name>`

## `pullCredentials`

| Type | Default |
|------|---------|
| `string` | `""` |

`pullCredentials` configures how the updater attempts to
get the image pull credentials used to validate the image signature.

This is not required when pulling images from official public Teleport
registries (chart's default).

Supported values are `amazon`, `google`, `docker` and `none`.

## `extraArgs`

| Type | Default |
|------|---------|
| `list` | `[]` |

`extraArgs` contains additional arguments to pass to the updater
binary.

## `extraVolumes`

| Type | Default |
|------|---------|
| `list` | `[]` |

`extraVolumes` contains extra volumes to mount into the Updater pods.
See [the Kubernetes volume documentation](https://kubernetes.io/docs/concepts/storage/volumes/)
for more details.

For example:
```yaml
extraVolumes:
- name: myvolume
  secret:
    secretName: testSecret
```

## `extraVolumeMounts`

| Type | Default |
|------|---------|
| `list` | `[]` |

`extraVolumeMounts` contains extra volumes mounts for the updater.
See [the Kubernetes volume documentation](https://kubernetes.io/docs/concepts/storage/volumes/)
for more details.

For example:
```yaml
extraVolumesMounts:
- name: myvolume
  mountPath: /path/on/host
```

## `resources`

| Type | Default |
|------|---------|
| `object` | `{}` |

`resources` sets the resource requests/limits for any pods created by the chart.
See [the Kubernetes documentation](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/)
for more details.

## `tls`

`tls` contains settings for mounting your own TLS material in the updater pod.
The updater does not expose a TLS server, so this is only used to trust CAs.

### `tls.existingCASecretName`

| Type | Default |
|------|---------|
| `string` | `""` |

`tls.existingCASecretName` sets the `SSL_CERT_FILE` environment
variable to load a trusted CA or bundle in PEM format into Teleport pods.
The injected CA will be used to validate TLS communications, with the Proxy
Service, with upstream applications or databases.

<Admonition type="note">
  The recommended way to trust a database CA is to do it per-database instead
  of adding the CA to the global Teleport trust store. It allows to trust
  multiple CAs while limiting the trust scope to their specific databases.
  See [the `databases` section](#databases).
</Admonition>

You must create a secret containing the CA certs in the same namespace as Teleport using a command like:

```code
$ kubectl create secret generic my-root-ca --from-file=ca.pem=/path/to/root-ca.pem
```

<Admonition type="warning" title="Root CA filename">
  The key containing the root CA in the secret must be `ca.pem`.
</Admonition>

### `extraLabels.roleBinding`

| Type | Default |
|------|---------|
| `object` | `{}` |

`extraLabels.roleBinding` are labels to set on the RoleBinding.

### `extraLabels.role`

| Type | Default |
|------|---------|
| `object` | `{}` |

`extraLabels.role` are labels to set on the Role.

### `extraLabels.pod`

| Type | Default |
|------|---------|
| `object` | `{}` |

`extraLabels.pod` are labels to set on the Pods created by the
Deployment, StatefulSet, or Job.

### `extraLabels.deployment`

| Type | Default |
|------|---------|
| `object` | `{}` |

`extraLabels.deployment` are labels to set on the Deployment or StatefulSet.

### `extraLabels.serviceAccount`

| Type | Default |
|------|---------|
| `object` | `{}` |

`extraLabels.serviceAccount` are labels to set on the ServiceAccount.

## `extraEnv`

| Type | Default |
|------|---------|
| `list` | `[]` |

`extraEnv` contains extra environment variables to set in the main
updater pod.

For example:
```yaml
extraEnv:
  - name: HTTPS_PROXY
    value: "http://username:password@my.proxy.host:3128"
```

## `annotations`

`annotations` contains annotations to apply to the different Kubernetes
objects created by the chart. See [the Kubernetes annotation
documentation](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
for more details.

### `annotations.config`

| Type | Default |
|------|---------|
| `object` | `{}` |

`annotations.config` contains the Kubernetes annotations
put on the `ConfigMap` resource created by the chart.

### `annotations.deployment`

| Type | Default |
|------|---------|
| `object` | `{}` |

`annotations.deployment` contains the Kubernetes annotations
put on the `Deployment` or `StatefulSet` resource created by the chart.

### `annotations.pod`

| Type | Default |
|------|---------|
| `object` | `{}` |

`annotations.pod` contains the Kubernetes annotations
put on the `Pod` resources created by the chart.

### `annotations.secret`

| Type | Default |
|------|---------|
| `object` | `{}` |

`annotations.secret` contains the Kubernetes annotations
put on the `Secret` resource created by the chart.
This has no effect when `joinTokenSecret.create` is `false`.

### `annotations.serviceAccount`

| Type | Default |
|------|---------|
| `object` | `{}` |

`annotations.serviceAccount` contains the Kubernetes annotations
put on the `ServiceAccount` resource created by the chart.

## `priorityClassName`

| Type | Default |
|------|---------|
| `string` | `""` |

`priorityClassName` sets the priority class used by any pods created by the chart.
The user is responsible for creating the `PriorityClass` resource before deploying the chart.
See [the Kubernetes documentation](https://kubernetes.io/docs/concepts/scheduling-eviction/pod-priority-preemption/)
for more details.
