---
title: Database Server Reference
description: Provides a reference of fields within the Database Server resource, which you can manage with tctl.
sidebar_title: Database Server
---

Represents a database access server.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
kind: "string"
sub_kind: "string"
version: "string"
metadata: # [...]
spec: # [...]
```
|Field Name|Description|Type|
|---|---|---|
|version|The resource version.|string|
|sub_kind|An optional resource subkind.|string|
|spec|The database server spec.|[Database Server Spec](#database-server-spec)|
|metadata|The database server metadata.|[Metadata](#metadata)|
|kind|The database server resource kind.|string|

## AD

Contains Active Directory specific database configuration.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
keytab_file: "string"
krb5_file: "string"
domain: "string"
spn: "string"
ldap_cert: "string"
kdc_host_name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|spn|The service principal name for the database.|string|
|ldap_cert|A certificate from Windows LDAP/AD, optional; only for x509 Authentication.|string|
|krb5_file|The path to the Kerberos configuration file. Defaults to /etc/krb5.conf.|string|
|keytab_file|The path to the Kerberos keytab file.|string|
|kdc_host_name|The host name for a KDC for x509 Authentication.|string|
|domain|The Active Directory domain the database resides in.|string|

## AWS

Contains AWS metadata about the database.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
region: "string"
redshift: # [...]
rds: # [...]
account_id: "string"
elasticache: # [...]
secret_store: # [...]
memorydb: # [...]
rdsproxy: # [...]
redshift_serverless: # [...]
external_id: "string"
assume_role_arn: "string"
opensearch: # [...]
iam_policy_status: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|secret_store|Contains secret store configurations.|[Secret Store](#secret-store)|
|region|A AWS cloud region.|string|
|redshift_serverless|Contains AWS Redshift Serverless specific metadata.|[Redshift Serverless](#redshift-serverless)|
|redshift|Contains Redshift specific metadata.|[Redshift](#redshift)|
|rdsproxy|Contains AWS Proxy specific metadata.|[RDSProxy](#rdsproxy)|
|rds|Contains RDS specific metadata.|[RDS](#rds)|
|opensearch|Contains AWS OpenSearch specific metadata.|[Open Search](#open-search)|
|memorydb|Contains AWS MemoryDB specific metadata.|[Memory DB](#memory-db)|
|iam_policy_status|Indicates whether the IAM Policy is configured properly for database access. If not, the user must update the AWS profile identity to allow access to the Database. Eg for an RDS Database: the underlying AWS profile allows for `rds-db:connect` for the Database.|[IAMPolicy Status](#iampolicy-status)|
|external_id|An optional AWS external ID used to enable assuming an AWS role across accounts.|string|
|elasticache|Contains AWS ElastiCache Redis specific metadata.|[Elasti Cache](#elasti-cache)|
|assume_role_arn|An optional AWS role ARN to assume when accessing a database. Set this field and ExternalID to enable access across AWS accounts.|string|
|account_id|The AWS account ID this database belongs to.|string|

## Azure

Contains Azure specific database metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
name: "string"
resource_id: "string"
redis: # [...]
is_flexi_server: true
```

|Field Name|Description|Type|
|---|---|---|
|resource_id|The Azure fully qualified ID for the resource.|string|
|redis|Contains Azure Cache for Redis specific database metadata.|[Azure Redis](#azure-redis)|
|name|The Azure database server name.|string|
|is_flexi_server|True if the database is an Azure Flexible server.|Boolean|

## Azure Redis

Contains Azure Cache for Redis specific database metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
clustering_policy: "string"
```

|Field Name|Description|Type|
|---|---|---|
|clustering_policy|The clustering policy for Redis Enterprise.|string|

## Command Label

A label that has a value as a result of the output generated by running command, e.g. hostname

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
period: # See description
command: 
  - "string"
  - "string"
  - "string"
result: "string"
```

|Field Name|Description|Type|
|---|---|---|
|result|Captures standard output|string|
|period|A time between command runs||
|command|A command to run|[]string|

## Database Admin User

Contains information about privileged database user used for automatic user provisioning.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|name|The username of the privileged database user.|string|

## Database Server Spec

The database server spec.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
version: "string"
hostname: "string"
host_id: "string"
rotation: # [...]
database: # [...]
proxy_ids: 
  - "string"
  - "string"
  - "string"
```

|Field Name|Description|Type|
|---|---|---|
|version|The Teleport version that the server is running.|string|
|rotation|Contains the server CA rotation information.|[Rotation](#rotation)|
|proxy_ids|A list of proxy IDs this server is expected to be connected to.|[]string|
|hostname|The database server hostname.|string|
|host_id|The ID of the host the database server is running on.|string|
|database|The database proxied by this database server.|[Database](#database)|

## Database Spec

The database spec.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
protocol: "string"
uri: "string"
ca_cert: "string"
dynamic_labels: 
  "string": # [...]
  "string": # [...]
  "string": # [...]
aws: # [...]
gcp: # [...]
azure: # [...]
tls: # [...]
ad: # [...]
mysql: # [...]
admin_user: # [...]
mongo_atlas: # [...]
oracle: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|uri|The database connection endpoint.|string|
|tls|The TLS configuration used when establishing connection to target database. Allows to provide custom CA cert or override server name.|[Database TLS](#database-tls)|
|protocol|The database protocol: postgres, mysql, mongodb, etc.|string|
|oracle|An additional Oracle configuration options.|[Oracle Options](#oracle-options)|
|mysql|An additional section with MySQL database options.|[My SQLOptions](#my-sqloptions)|
|mongo_atlas|Contains Atlas metadata about the database.|[Mongo Atlas](#mongo-atlas)|
|gcp|Contains parameters specific to GCP Cloud SQL databases.|[GCPCloud SQL](#gcpcloud-sql)|
|dynamic_labels|The database dynamic labels.|map[string][Command Label](#command-label)|
|ca_cert|The PEM-encoded database CA certificate.  DEPRECATED: Moved to TLS.CACert. DELETE IN 10.0.|string|
|azure|Contains Azure specific database metadata.|[Azure](#azure)|
|aws|Contains AWS specific settings for RDS/Aurora/Redshift databases.|[AWS](#aws)|
|admin_user|The database admin user for automatic user provisioning.|[Database Admin User](#database-admin-user)|
|ad|The Active Directory configuration for the database.|[AD](#ad)|

## Database Status

Contains runtime information about the database.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
ca_cert: "string"
aws: # [...]
mysql: # [...]
managed_users: 
  - "string"
  - "string"
  - "string"
azure: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|mysql|An additional section with MySQL runtime database information.|[My SQLOptions](#my-sqloptions)|
|managed_users|A list of database users that are managed by Teleport.|[]string|
|ca_cert|The auto-downloaded cloud database CA certificate.|string|
|azure|The auto-discovered Azure cloud database metadata.|[Azure](#azure)|
|aws|The auto-discovered AWS cloud database metadata.|[AWS](#aws)|

## Database TLS

Contains TLS configuration options.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
mode: # [...]
ca_cert: "string"
server_name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|server_name|Allows to provide custom hostname. This value will override the servername/hostname on a certificate during validation.|string|
|mode|A TLS connection mode. See DatabaseTLSMode for details.|[Database TLSMode](#database-tlsmode)|
|ca_cert|An optional user provided CA certificate used for verifying database TLS connection.|string|

## Database TLSMode

Represents the level of TLS verification performed by DB agent when connecting to a database.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

## Database

Represents a single proxied database.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
kind: "string"
sub_kind: "string"
version: "string"
metadata: # [...]
spec: # [...]
status: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|version|The resource version.|string|
|sub_kind|An optional resource subkind.|string|
|status|The database runtime information.|[Database Status](#database-status)|
|spec|The database spec.|[Database Spec](#database-spec)|
|metadata|The database metadata.|[Metadata](#metadata)|
|kind|The database resource kind.|string|

## Elasti Cache

Contains AWS ElastiCache Redis specific metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
replication_group_id: "string"
user_group_ids: 
  - "string"
  - "string"
  - "string"
transit_encryption_enabled: true
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|user_group_ids|A list of user group IDs.|[]string|
|transit_encryption_enabled|Indicates whether in-transit encryption (TLS) is enabled.|Boolean|
|replication_group_id|The Redis replication group ID.|string|
|endpoint_type|The type of the endpoint.|string|

## GCPCloud SQL

Contains parameters specific to GCP Cloud SQL databases.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
project_id: "string"
instance_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|project_id|The GCP project ID the Cloud SQL instance resides in.|string|
|instance_id|The Cloud SQL instance ID.|string|

## IAMPolicy Status

Represents states that describe if an AWS database has its IAM policy properly configured or not. This enum is set in a Sync.Map during an IAM task that checks for the validity of IAM policy, and the database gets updated with the value from this map during a heartbeat.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

## Memory DB

Contains AWS MemoryDB specific metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
cluster_name: "string"
acl_name: "string"
tls_enabled: true
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|tls_enabled|Indicates whether in-transit encryption (TLS) is enabled.|Boolean|
|endpoint_type|The type of the endpoint.|string|
|cluster_name|The name of the MemoryDB cluster.|string|
|acl_name|The name of the ACL associated with the cluster.|string|

## Metadata

Resource metadata

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
name: "string"
description: "string"
labels: 
  "string": "string"
  "string": "string"
  "string": "string"
expires: # See description
id: 1
revision: "string"
```

|Field Name|Description|Type|
|---|---|---|
|revision|An opaque identifier which tracks the versions of a resource over time. Clients should ignore and not alter its value but must return the revision in any updates of a resource.|string|
|name|An object name|string|
|labels|A set of labels|map[string]string|
|id|A record ID. Deprecated: Use revision instead.|number|
|expires|A global expiry time header can be set on any resource in the system.||
|description|Object description|string|

## Mongo Atlas

Contains Atlas metadata about the database.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|name|The Atlas database instance name.|string|

## My SQLOptions

Additional MySQL database options.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
server_version: "string"
```

|Field Name|Description|Type|
|---|---|---|
|server_version|The server version reported by DB proxy if the runtime information is not available.|string|

## Open Search

Contains AWS OpenSearch specific metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
domain_name: "string"
domain_id: "string"
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|endpoint_type|The type of the endpoint.|string|
|domain_name|The name of the domain.|string|
|domain_id|The ID of the domain.|string|

## Oracle Options

Contains information about privileged database user used for database audit.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
audit_user: "string"
```

|Field Name|Description|Type|
|---|---|---|
|audit_user|The Oracle database user privilege to access internal Oracle audit trail.|string|

## RDS

Contains AWS RDS specific database metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
instance_id: "string"
cluster_id: "string"
resource_id: "string"
iam_auth: true
subnets: 
  - "string"
  - "string"
  - "string"
vpc_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|vpc_id|The VPC where the RDS is running.|string|
|subnets|A list of subnets for the RDS instance.|[]string|
|resource_id|The RDS instance resource identifier (db-xxx).|string|
|instance_id|The RDS instance identifier.|string|
|iam_auth|Indicates whether database IAM authentication is enabled.|Boolean|
|cluster_id|The RDS cluster (Aurora) identifier.|string|

## RDSProxy

Contains AWS RDS Proxy specific database metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
name: "string"
custom_endpoint_name: "string"
resource_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|resource_id|The RDS instance resource identifier (prx-xxx).|string|
|name|The identifier of an RDS Proxy.|string|
|custom_endpoint_name|The identifier of an RDS Proxy custom endpoint.|string|

## Redshift

Contains AWS Redshift specific database metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
cluster_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|cluster_id|The Redshift cluster identifier.|string|

## Redshift Serverless

Contains AWS Redshift Serverless specific metadata.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
workgroup_name: "string"
endpoint_name: "string"
workgroup_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|workgroup_name|The workgroup name.|string|
|workgroup_id|The workgroup ID.|string|
|endpoint_name|The VPC endpoint name.|string|

## Rotation

A status of the rotation of the certificate authority

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
state: "string"
phase: "string"
mode: "string"
current_id: "string"
started: # See description
grace_period: # See description
last_rotated: # See description
schedule: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|state|Could be one of "init" or "in_progress".|string|
|started|Set to the time when rotation has been started in case if the state of the rotation is "in_progress".||
|schedule|A rotation schedule - used in automatic mode to switch between phases.|[Rotation Schedule](#rotation-schedule)|
|phase|The current rotation phase.|string|
|mode|Sets manual or automatic rotation mode.|string|
|last_rotated|Specifies the last time of the completed rotation.||
|grace_period|A period during which old and new CA are valid for checking purposes, but only new CA is issuing certificates.||
|current_id|The ID of the rotation operation to differentiate between rotation attempts.|string|

## Rotation Schedule

A rotation schedule setting time switches for different phases.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
update_clients: # See description
update_servers: # See description
standby: # See description
```

|Field Name|Description|Type|
|---|---|---|
|update_servers|Specifies time to switch to the "Update servers" phase.||
|update_clients|Specifies time to switch to the "Update clients" phase||
|standby|Specifies time to switch to the "Standby" phase.||

## Secret Store

Contains secret store configurations.

{/*Automatically generated from: testdata/src/typestest.pb.go*/}

Example:

```yaml
key_prefix: "string"
kms_key_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|kms_key_id|Specifies the AWS KMS key for encryption.|string|
|key_prefix|Specifies the secret key prefix.|string|

