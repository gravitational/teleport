---
title: Database Reference
description: Provides a reference of fields within the Database resource, which you can manage with tctl.
sidebar_title: Database
---
{/* Automatically generated from: typestest.pb.go */}
{/* DO NOT EDIT */}

**Kind**: `database`<br/>
**Version**: `v3`

Represents a single proxied database.

Example:

```yaml
kind: "string"
sub_kind: "string"
version: "string"
metadata: # [...]
spec: # [...]
status: # [...]
```
|Field Name|Description|Type|
|---|---|---|
|kind|The database resource kind.|string|
|metadata|The database metadata.|[Metadata](#metadata)|
|spec|The database spec.|[Database Spec](#database-spec)|
|status|The database runtime information.|[Database Status](#database-status)|
|sub_kind|An optional resource subkind.|string|
|version|The resource version.|string|

## AD

Contains Active Directory specific database configuration.


Example:

```yaml
keytab_file: "string"
krb5_file: "string"
domain: "string"
spn: "string"
ldap_cert: "string"
kdc_host_name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|domain|The Active Directory domain the database resides in.|string|
|kdc_host_name|The host name for a KDC for x509 Authentication.|string|
|keytab_file|The path to the Kerberos keytab file.|string|
|krb5_file|The path to the Kerberos configuration file. Defaults to /etc/krb5.conf.|string|
|ldap_cert|A certificate from Windows LDAP/AD, optional; only for x509 Authentication.|string|
|spn|The service principal name for the database.|string|

## AWS

Contains AWS metadata about the database.


Example:

```yaml
region: "string"
redshift: # [...]
rds: # [...]
account_id: "string"
elasticache: # [...]
secret_store: # [...]
memorydb: # [...]
rdsproxy: # [...]
redshift_serverless: # [...]
external_id: "string"
assume_role_arn: "string"
opensearch: # [...]
iam_policy_status: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|account_id|The AWS account ID this database belongs to.|string|
|assume_role_arn|An optional AWS role ARN to assume when accessing a database. Set this field and ExternalID to enable access across AWS accounts.|string|
|elasticache|Contains AWS ElastiCache Redis specific metadata.|[Elasti Cache](#elasti-cache)|
|external_id|An optional AWS external ID used to enable assuming an AWS role across accounts.|string|
|iam_policy_status|Indicates whether the IAM Policy is configured properly for database access. If not, the user must update the AWS profile identity to allow access to the Database. Eg for an RDS Database: the underlying AWS profile allows for `rds-db:connect` for the Database.|[IAMPolicy Status](#iampolicy-status)|
|memorydb|Contains AWS MemoryDB specific metadata.|[Memory DB](#memory-db)|
|opensearch|Contains AWS OpenSearch specific metadata.|[Open Search](#open-search)|
|rds|Contains RDS specific metadata.|[RDS](#rds)|
|rdsproxy|Contains AWS Proxy specific metadata.|[RDSProxy](#rdsproxy)|
|redshift|Contains Redshift specific metadata.|[Redshift](#redshift)|
|redshift_serverless|Contains AWS Redshift Serverless specific metadata.|[Redshift Serverless](#redshift-serverless)|
|region|A AWS cloud region.|string|
|secret_store|Contains secret store configurations.|[Secret Store](#secret-store)|

## Azure

Contains Azure specific database metadata.


Example:

```yaml
name: "string"
resource_id: "string"
redis: # [...]
is_flexi_server: true
```

|Field Name|Description|Type|
|---|---|---|
|is_flexi_server|True if the database is an Azure Flexible server.|Boolean|
|name|The Azure database server name.|string|
|redis|Contains Azure Cache for Redis specific database metadata.|[Azure Redis](#azure-redis)|
|resource_id|The Azure fully qualified ID for the resource.|string|

## Azure Redis

Contains Azure Cache for Redis specific database metadata.


Example:

```yaml
clustering_policy: "string"
```

|Field Name|Description|Type|
|---|---|---|
|clustering_policy|The clustering policy for Redis Enterprise.|string|

## Command Label

A label that has a value as a result of the output generated by running command, e.g. hostname


Example:

```yaml
period: # See description
command: 
  - "string"
  - "string"
  - "string"
result: "string"
```

|Field Name|Description|Type|
|---|---|---|
|command|A command to run|[]string|
|period|A time between command runs||
|result|Captures standard output|string|

## Database Admin User

Contains information about privileged database user used for automatic user provisioning.


Example:

```yaml
name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|name|The username of the privileged database user.|string|

## Database Spec

The database spec.


Example:

```yaml
protocol: "string"
uri: "string"
ca_cert: "string"
dynamic_labels: 
  "string": # [...]
  "string": # [...]
  "string": # [...]
aws: # [...]
gcp: # [...]
azure: # [...]
tls: # [...]
ad: # [...]
mysql: # [...]
admin_user: # [...]
mongo_atlas: # [...]
oracle: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|ad|The Active Directory configuration for the database.|[AD](#ad)|
|admin_user|The database admin user for automatic user provisioning.|[Database Admin User](#database-admin-user)|
|aws|Contains AWS specific settings for RDS/Aurora/Redshift databases.|[AWS](#aws)|
|azure|Contains Azure specific database metadata.|[Azure](#azure)|
|ca_cert|The PEM-encoded database CA certificate.  DEPRECATED: Moved to TLS.CACert. DELETE IN 10.0.|string|
|dynamic_labels|The database dynamic labels.|map[string][Command Label](#command-label)|
|gcp|Contains parameters specific to GCP Cloud SQL databases.|[GCPCloud SQL](#gcpcloud-sql)|
|mongo_atlas|Contains Atlas metadata about the database.|[Mongo Atlas](#mongo-atlas)|
|mysql|An additional section with MySQL database options.|[My SQLOptions](#my-sqloptions)|
|oracle|An additional Oracle configuration options.|[Oracle Options](#oracle-options)|
|protocol|The database protocol: postgres, mysql, mongodb, etc.|string|
|tls|The TLS configuration used when establishing connection to target database. Allows to provide custom CA cert or override server name.|[Database TLS](#database-tls)|
|uri|The database connection endpoint.|string|

## Database Status

Contains runtime information about the database.


Example:

```yaml
ca_cert: "string"
aws: # [...]
mysql: # [...]
managed_users: 
  - "string"
  - "string"
  - "string"
azure: # [...]
```

|Field Name|Description|Type|
|---|---|---|
|aws|The auto-discovered AWS cloud database metadata.|[AWS](#aws)|
|azure|The auto-discovered Azure cloud database metadata.|[Azure](#azure)|
|ca_cert|The auto-downloaded cloud database CA certificate.|string|
|managed_users|A list of database users that are managed by Teleport.|[]string|
|mysql|An additional section with MySQL runtime database information.|[My SQLOptions](#my-sqloptions)|

## Database TLS

Contains TLS configuration options.


Example:

```yaml
mode: # [...]
ca_cert: "string"
server_name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|ca_cert|An optional user provided CA certificate used for verifying database TLS connection.|string|
|mode|A TLS connection mode. See DatabaseTLSMode for details.|[Database TLSMode](#database-tlsmode)|
|server_name|Allows to provide custom hostname. This value will override the servername/hostname on a certificate during validation.|string|

## Database TLSMode

Represents the level of TLS verification performed by DB agent when connecting to a database.


## Elasti Cache

Contains AWS ElastiCache Redis specific metadata.


Example:

```yaml
replication_group_id: "string"
user_group_ids: 
  - "string"
  - "string"
  - "string"
transit_encryption_enabled: true
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|endpoint_type|The type of the endpoint.|string|
|replication_group_id|The Redis replication group ID.|string|
|transit_encryption_enabled|Indicates whether in-transit encryption (TLS) is enabled.|Boolean|
|user_group_ids|A list of user group IDs.|[]string|

## GCPCloud SQL

Contains parameters specific to GCP Cloud SQL databases.


Example:

```yaml
project_id: "string"
instance_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|instance_id|The Cloud SQL instance ID.|string|
|project_id|The GCP project ID the Cloud SQL instance resides in.|string|

## IAMPolicy Status

Represents states that describe if an AWS database has its IAM policy properly configured or not. This enum is set in a Sync.Map during an IAM task that checks for the validity of IAM policy, and the database gets updated with the value from this map during a heartbeat.


## Memory DB

Contains AWS MemoryDB specific metadata.


Example:

```yaml
cluster_name: "string"
acl_name: "string"
tls_enabled: true
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|acl_name|The name of the ACL associated with the cluster.|string|
|cluster_name|The name of the MemoryDB cluster.|string|
|endpoint_type|The type of the endpoint.|string|
|tls_enabled|Indicates whether in-transit encryption (TLS) is enabled.|Boolean|

## Metadata

Resource metadata


Example:

```yaml
name: "string"
description: "string"
labels: 
  "string": "string"
  "string": "string"
  "string": "string"
expires: # See description
id: 1
revision: "string"
```

|Field Name|Description|Type|
|---|---|---|
|description|Object description|string|
|expires|A global expiry time header can be set on any resource in the system.||
|id|A record ID. Deprecated: Use revision instead.|number|
|labels|A set of labels|map[string]string|
|name|An object name|string|
|revision|An opaque identifier which tracks the versions of a resource over time. Clients should ignore and not alter its value but must return the revision in any updates of a resource.|string|

## Mongo Atlas

Contains Atlas metadata about the database.


Example:

```yaml
name: "string"
```

|Field Name|Description|Type|
|---|---|---|
|name|The Atlas database instance name.|string|

## My SQLOptions

Additional MySQL database options.


Example:

```yaml
server_version: "string"
```

|Field Name|Description|Type|
|---|---|---|
|server_version|The server version reported by DB proxy if the runtime information is not available.|string|

## Open Search

Contains AWS OpenSearch specific metadata.


Example:

```yaml
domain_name: "string"
domain_id: "string"
endpoint_type: "string"
```

|Field Name|Description|Type|
|---|---|---|
|domain_id|The ID of the domain.|string|
|domain_name|The name of the domain.|string|
|endpoint_type|The type of the endpoint.|string|

## Oracle Options

Contains information about privileged database user used for database audit.


Example:

```yaml
audit_user: "string"
```

|Field Name|Description|Type|
|---|---|---|
|audit_user|The Oracle database user privilege to access internal Oracle audit trail.|string|

## RDS

Contains AWS RDS specific database metadata.


Example:

```yaml
instance_id: "string"
cluster_id: "string"
resource_id: "string"
iam_auth: true
subnets: 
  - "string"
  - "string"
  - "string"
vpc_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|cluster_id|The RDS cluster (Aurora) identifier.|string|
|iam_auth|Indicates whether database IAM authentication is enabled.|Boolean|
|instance_id|The RDS instance identifier.|string|
|resource_id|The RDS instance resource identifier (db-xxx).|string|
|subnets|A list of subnets for the RDS instance.|[]string|
|vpc_id|The VPC where the RDS is running.|string|

## RDSProxy

Contains AWS RDS Proxy specific database metadata.


Example:

```yaml
name: "string"
custom_endpoint_name: "string"
resource_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|custom_endpoint_name|The identifier of an RDS Proxy custom endpoint.|string|
|name|The identifier of an RDS Proxy.|string|
|resource_id|The RDS instance resource identifier (prx-xxx).|string|

## Redshift

Contains AWS Redshift specific database metadata.


Example:

```yaml
cluster_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|cluster_id|The Redshift cluster identifier.|string|

## Redshift Serverless

Contains AWS Redshift Serverless specific metadata.


Example:

```yaml
workgroup_name: "string"
endpoint_name: "string"
workgroup_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|endpoint_name|The VPC endpoint name.|string|
|workgroup_id|The workgroup ID.|string|
|workgroup_name|The workgroup name.|string|

## Secret Store

Contains secret store configurations.


Example:

```yaml
key_prefix: "string"
kms_key_id: "string"
```

|Field Name|Description|Type|
|---|---|---|
|key_prefix|Specifies the secret key prefix.|string|
|kms_key_id|Specifies the AWS KMS key for encryption.|string|

